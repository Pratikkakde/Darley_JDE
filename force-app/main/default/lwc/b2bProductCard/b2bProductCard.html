<template>
    <template if:true={showComponent}>
        <div class="b2b-product-card__wrapper">

            <!-- SPINNER -->
            <template if:true={product.isLoading}>
                <lightning-spinner
                    alternative-text={labels.loading}
                    size="medium"
                ></lightning-spinner>
            </template>

            <!-- IMAGE -->
            <a href={getLink} title={getTitle} class="b2b-product-card__image" target={getLinkTarget}>
                <template if:true={getImage}>
                    <img src={getImage} alt={getName}>
                </template>
                <template if:false={getImage}>
                    <svg
                        viewBox="0 0 150 143"
                        xmlns="http://www.w3.org/2000/svg"
                        class="b2b-product-card__image-default"
                    >
                        <path d="M37.1027 59.5577H143.31C147.005 59.5577 150 62.553 150 66.2479V135.659C150 139.354 147.005 142.349 143.31 142.349H37.1027C33.4078 142.349 30.4124 139.354 30.4124 135.659V66.2479C30.4124 62.553 33.4078 59.5577 37.1027 59.5577ZM46.3017 127.296H135.783V103.058L124.856 78.792L99.9469 88.3917L80.6025 107.95L60.0355 82.1553L46.3017 114.492V127.296ZM69.0875 46.1773H24.5585C20.8636 46.1773 17.8683 49.1726 17.8683 52.8675V93.2844L0.40529 45.3052C-0.858441 41.8331 0.931774 37.994 4.40385 36.7303L104.206 0.40529C107.678 -0.858441 111.517 0.931774 112.781 4.40385L127.985 46.1773H112.118L110.51 41.7599L91.9423 22.6947L71.819 40.2347L69.0875 46.1773Z"></path>
                    </svg>
                </template>
            </a>

            <!-- CONTENT -->
            <div class="b2b-product-card__content">

                <!-- INFO -->
                <div class="b2b-product-card__info">

                    <!-- FIELDS -->
                    <div class="b2b-product-card__fields">
        
                        <!-- NAME -->
                        <template if:true={getName}>
                            <div class="b2b-product-card__name dxp-text-body-small">
                                <a href={getLink} title={getTitle} target={getLinkTarget}>{getName}</a>
                            </div>
                        </template>

                        <!-- SKU -->
                        <template if:true={getSku}>
                            <div class="b2b-product-card__sku">
                                <template if:true={labels.sku}>{labels.sku}&nbsp;</template>
                                {getSku}
                            </div>
                        </template>

                    </div>
                    
                    <!-- PRICE -->
                    <div class="b2b-product-card__price">
                        <template if:true={showPrice}>
                            <lightning-formatted-number
                                value={getPrice}
                                format-style="currency"
                                currency-code={getCurrencyIsoCode}
                            ></lightning-formatted-number>
                        </template>
                        <template if:true={showPriceUnavailable}>
                            <span class="dxp-text-body-small">{labels.priceUnavailable}</span>
                        </template>
                    </div>

                </div>

                <!-- ACTIONS -->
                <div class="b2b-product-card__actions">
                    <div class="b2b-product-card__button">
                        <button
                            class="slds-button slds-button_brand"
                            disabled={isButtonDisabled}
                            onclick={handleClickButton}
                        >{getButtonLabel}</button>
                    </div>
                </div>

            </div>

        </div>
    </template>
</template>